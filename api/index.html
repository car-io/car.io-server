<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>EnviroCar Service by enviroCar</title>

        <link rel="stylesheet" href="http://envirocar.github.io/enviroCar-server/stylesheets/styles.css">
        <link rel="stylesheet" href="http://envirocar.github.io/enviroCar-server/stylesheets/pygment_trac.css">
        <script src="http://envirocar.github.io/enviroCar-server/javascripts/scale.fix.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="wrapper">
            <header>
                <h1 class="header">EnviroCar Service</h1>
                <p class="header">
                    <a href="http://envirocar.github.io/enviroCar-server/developer-guide/">Developer Guide</a>
                </p>
                <p class="header"><a href="http://envirocar.github.io/enviroCar-server/api/">API Reference</a></p>
                <p class="header"><a href="http://envirocar.github.io/enviroCar-server/lod/">Linked Open Data</a></p>
                <p class="header"><a href="http://envirocar.github.io/enviroCar-server/additional-encodings/">Additional encodings for tracks</a></p>
                <ul>
                    <li class="but download"><a class="buttons" href="https://github.com/enviroCar/enviroCar-server/zipball/master">Download ZIP</a></li>
                    <li class="but download"><a class="buttons" href="https://github.com/enviroCar/enviroCar-server/tarball/master">Download TAR</a></li>
                    <li class="but"><a class="buttons github" href="https://github.com/enviroCar/enviroCar-server">View On GitHub</a></li>
                </ul>
            </header>
            <section>
                <h1 id="toc_0">API Reference</h1>

<p>For Login/logout see <a href="authentification">Authentification</a>.</p>

<h2 id="toc_1">Data Model</h2>

<p><img src="http://envirocar.github.io/enviroCar-server/images/datamodel.png" alt="datamodel" title="Data model"></p>

<h2 id="toc_2">Pagination</h2>

<p>Every collection resource (e.g. <code>/measurements</code>) offers two query parameters: <code>limit</code> and <code>page</code>. <code>limit</code> specifies the amount of retrieved entities while <code>page</code> indicates the position in the set of all entities. Per default <code>page</code> is 0 and <code>limit</code> will restrict the result to 100 entities. It is not possible to retrieve more than 100 entities at once. To allow navigation through the result set the service supports <a href="http://tools.ietf.org/html/rfc5988" title="RFC 5988: Web Linking">RFC5988</a> conformant <code>Link</code> headers. The link relations used are quite self explanatory: <code>first</code>, <code>last</code>, <code>prev</code> and <code>next</code>.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt; GET /api/stable/measurements?limit=2&amp;page=20 HTTP/1.1
&gt; Host: envirocar.org
&gt; Accept: application/json
&gt; 
&lt; HTTP/1.1 200 OK
&lt; [...]
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=2&amp;page=1&gt;;rel=first;type=application/json
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=2&amp;page=19&gt;;rel=prev;type=application/json
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=2&amp;page=21&gt;;rel=next;type=application/json
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=2&amp;page=4169&gt;;rel=last;type=application/json
&lt; Content-Type: application/json; schema=&quot;http://schema.envirocar.org/measurements.json#&quot;
[...]
</code></pre></div>
<p>Note that <code>next</code> and <code>prev</code> will not be present if they are equal to <code>first</code>/<code>last</code> or if they do not exist. <code>first</code> or <code>last</code> will not show up if you are already on the first or last page.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt; GET /api/stable/measurements?limit=100&amp;page=1 HTTP/1.1
&gt; Host: envirocar.org
&gt; Accept: application/json
&gt; 
&lt; HTTP/1.1 200 OK
&lt; [...]
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=100&amp;page=84&gt;;rel=last;type=application/json
&lt; Link: &lt;https://envirocar.org/api/stable/measurements?limit=100&amp;page=2&gt;;rel=next;type=application/json
&lt; Content-Type: application/json; schema=&quot;http://schema.envirocar.org/measurements.json#&quot;
[...]
</code></pre></div>
<p>Please also note that the content of the pages will change over time and the insertions, deletion or other changes in the sort order can result in duplicate or missing received entities.</p>

<h2 id="toc_3">Endpoints</h2>

<p>The current API endpoint is: <a href="https://envirocar.org/api/stable">https://envirocar.org/api/stable</a>.</p>

<p>The following resources are located relatively to the API endpoint:</p>

<ul>
<li><a href="root">Root</a></li>
<li><a href="friends">Friends</a>

<ul>
<li><code>/users/:username/friends</code></li>
<li><code>/users/:username/friends/:friend</code></li>
</ul></li>
<li><a href="tracks">Tracks</a>

<ul>
<li><code>/tracks</code></li>
<li><code>/tracks/:trackid</code></li>
<li><code>/users/:username/tracks</code></li>
<li><code>/users/:username/tracks/:trackid</code></li>
</ul></li>
<li><a href="phenomenons">Phenomenons</a>

<ul>
<li><code>/phenmenons</code></li>
<li><code>/phenmenons/:phenomenon</code></li>
</ul></li>
<li><a href="sensors">Sensors</a>

<ul>
<li><code>/sensors</code></li>
<li><code>/sensors/:sensor</code></li>
</ul></li>
<li><a href="groups">Groups</a>

<ul>
<li><code>/groups</code></li>
<li><code>/groups/:groupname</code></li>
<li><code>/users/:username/groups</code></li>
<li><code>/users/:username/groups/:groupname</code></li>
<li><code>/groups/:groupname/members</code></li>
<li><code>/groups/:groupname/members/:username</code></li>
</ul></li>
<li><a href="users">Users</a>

<ul>
<li><code>/users</code></li>
<li><code>/users/:username</code></li>
</ul></li>
<li><a href="measurements">Measurements</a>

<ul>
<li><code>/measurements</code></li>
<li><code>/measurements/:measurementid</code></li>
<li><code>/tracks/:trackid/measurements</code></li>
<li><code>/tracks/:trackid/measurements/:measurementid</code></li>
<li><code>/users/:username/measurements</code></li>
<li><code>/users/:username/measurements/:measurementid</code></li>
<li><code>/users/:username/tracks/:trackid/measurements</code></li>
<li><code>/users/:username/tracks/:trackid/measurements/:measurementid</code></li>
</ul></li>
<li><a href="statistics">Statistics</a>

<ul>
<li><code>/statistics</code></li>
<li><code>/statistics/:phenomenon</code></li>
<li><code>/sensors/:sensor/statistics</code></li>
<li><code>/sensors/:sensor/statistics/:phenomenon</code></li>
<li><code>/tracks/:trackid/statistics</code></li>
<li><code>/tracks/:trackid/statistics/:phenomenon</code></li>
<li><code>/users/:username/statistics</code></li>
<li><code>/users/:username/statistics/:phenomenon</code></li>
</ul></li>
<li><a href="activities">Activities</a>

<ul>
<li><code>/users/:username/activities</code></li>
<li><code>/users/:username/activities/:activity</code></li>
<li><code>/users/:username/friendActivities</code></li>
<li><code>/users/:username/friendActivities/:activity</code></li>
<li><code>/groups/:groupname/activities</code></li>
<li><code>/groups/:groupname/activities/:activity</code></li>
</ul></li>
</ul>

            </section>
            <footer>
                <p><small>This project is maintained by the <a href="https://github.com/enviroCar">enviroCar</a> community</small></p>
            </footer>
        </div>
        <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    </body>
</html>
